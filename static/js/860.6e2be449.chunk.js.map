{"version":3,"file":"static/js/860.6e2be449.chunk.js","mappings":"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","sources":["../node_modules/jwt-decode/build/esm/index.js","Components/Pages/LoginModal.jsx","../node_modules/@mui/icons-material/Email.js","../node_modules/@mui/icons-material/Lock.js"],"sourcesContent":["export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n","import React, { useState, useContext } from 'react';\r\nimport './Css/Form.css'; \r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport LockIcon from '@mui/icons-material/Lock';\r\nimport EmailIcon from '@mui/icons-material/Email';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { UserContext } from '../ContextAPI/UserContext';\r\nimport {jwtDecode} from 'jwt-decode';\r\n\r\nconst LoginModal = ({ loginModal, setShowLoginModal, setShowRegisterModal }) => {\r\n  const { setUser } = useContext(UserContext);\r\n  \r\n  const [loginData, setLoginData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setLoginData(prevData => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    \r\n    try {\r\n      const response = await axios.post('http://localhost:8081/api/user/login', loginData);\r\n      toast.success('Login successful!');\r\n\r\n      const token = response.data.token; // Get the token from response\r\n      sessionStorage.setItem('token', token);\r\n      localStorage.removeItem('token');\r\n\r\n      // Decode the token to get user data\r\n      const userData = jwtDecode(token);\r\n\r\n      // Save user data to context\r\n      setUser({\r\n        id: userData.id, \r\n        name: userData.name,\r\n        email: userData.email,\r\n        \r\n      });\r\n      \r\n\r\n      setShowLoginModal(false);\r\n    } catch (error) {\r\n      toast.error('Login failed. Please check your email and password.');\r\n    }\r\n  };\r\n\r\n  // function to show signup form\r\n  const handleSignUpClick = () => {\r\n    setShowLoginModal(false);\r\n    setShowRegisterModal(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={`modal-background ${loginModal ? 'show' : ''}`}>\r\n        <div className=\"modal-content\">\r\n          <span className=\"close-button\" onClick={() => setShowLoginModal(false)}>Ã—</span>\r\n          <h2>Sign In</h2>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"Input-fields\">\r\n              <div className=\"field1\">\r\n                <div className=\"form-icon\">\r\n                  <EmailIcon className=\"icon1\" />\r\n                </div>\r\n                <input type=\"text\" name=\"email\" value={loginData.email} onChange={handleInput} placeholder=\"Email Address\" required />\r\n              </div>\r\n              <div className='field1'>\r\n                <div className=\"form-icon\">\r\n                  <LockIcon className=\"icon1\" />\r\n                </div>\r\n                <input type=\"password\" name=\"password\" value={loginData.password} onChange={handleInput} placeholder=\"Password\" required />\r\n              </div>\r\n            </div>\r\n            <button type=\"submit\" className=\"submit-btn\">Sign In</button>\r\n          </form>\r\n          <p>Don't have an account? <span onClick={handleSignUpClick}>Sign Up</span></p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginModal;\r\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z\"\n}), 'Email');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z\"\n}), 'Lock');"],"names":["InvalidTokenError","Error","base64UrlDecode","str","output","replace","length","decodeURIComponent","atob","m","p","code","charCodeAt","toString","toUpperCase","b64DecodeUnicode","err","prototype","name","_ref","loginModal","setShowLoginModal","setShowRegisterModal","setUser","useContext","UserContext","loginData","setLoginData","useState","email","password","handleInput","e","value","target","prevData","_jsx","_Fragment","children","className","concat","_jsxs","onClick","onSubmit","async","event","preventDefault","response","axios","post","toast","success","token","data","sessionStorage","setItem","localStorage","removeItem","userData","options","pos","header","part","split","decoded","message","JSON","parse","jwtDecode","id","error","EmailIcon","type","onChange","placeholder","required","LockIcon","handleSignUpClick","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","default","jsx","d"],"sourceRoot":""}